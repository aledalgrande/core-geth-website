{"componentChunkName":"component---node-modules-etclabscore-gatsby-theme-pristine-src-templates-default-tsx","path":"/setup-on-raspberry-pi","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to setup an Ethereum node on Raspberry Pi\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"How to setup an Ethereum node on Raspberry Pi\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://duckduckgo.com/i/0c1be8ce.png\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"Introduction\"), mdx(\"p\", null, \"Raspberry Pi is a small single board computer that can be used to run a local Ethereum node. While many users operate nodes with cloud service providers, this can be expensive overtime, especially for full nodes of the mainnet, but Raspberry Pi has a low barrier to entry to get started with a local node setup. Raspberry Pi, and other single board computers, consume far less energy than a tradtional server or desktop machine and a Raspberry Pi's storage can be expanded through external hard drive solutions; NAS, RAID, and other external storage.\"), mdx(\"h2\", null, \"What you'll learn\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Setup a Rasberry Pi 4 Model B with Ubuntu-LTS & Core-geth\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Run Core-geth to provide the ETC, ETH, or related test networks.\")), mdx(\"h2\", null, \"Step 01 - Requirements\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Computer\"), \": A computer to setup your microSD card and remotely access the Raspberry Pi.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Internet\"), \": An internet connection to provide internet via Wifi or Etherent cable (recommend) to the Raspberry Pi.\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Ethernet cable (optional/ recommended) : To connect the Raspberry Pi to internet.\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Raspberry Pi 4 Model B / 4 GB RAM\"), \": Core-geth requires a minimum of 4 GB of RAM. On full size servers, you can get away with 2 GB RAM with additional Swap memory, but at least 4 GB is recommended.\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"USB-C 5.1V 3A Power Supply\"), \": To supply the Pi with power.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Micro SD Card \", \">\", \"= 16 GB\"), \": The SD Card stores the operating system ready to use in the Raspberry Pi device.\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"External HDD/ SSD (optional/ required for mainnet)\"), \": A much larger microSD card can work for testnets, but mainnet requires hundreds of GB to TB and the state of the blockchain continues to grow. Ethereum full node sizes are significantly smaller \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://etherscan.io/chartsync/chaindefault\"\n  }), \"https://etherscan.io/chartsync/chaindefault\"), \" than Ethereum archival node \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://etherscan.io/chartsync/chainarchive\"\n  }), \"https://etherscan.io/chartsync/chainarchive\"), \". Ethereum Classic is significantly smaller than Ethereum.\")))))), mdx(\"h2\", null, \"Step 02 - Install Ubuntu on your Raspberry Pi\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Complete the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://ubuntu.com/tutorials/how-to-install-ubuntu-on-your-raspberry-pi\"\n  }), \"How to install Ubuntu on your Raspberry Pi\"), \" guide.\")), mdx(\"p\", null, \"If you're having trouble determining the Raspberry Pi's IP address to SSH into it, then try using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"nmap\"), \" as explained \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.raspberrypi.org/documentation/remote-access/ip-address.md\"\n  }), \"here\"), \".\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://user-images.githubusercontent.com/10556209/84100324-3de68d00-a9d1-11ea-9c51-df991048c613.gif\",\n    \"alt\": null\n  }))), mdx(\"h2\", null, \"Step 03 - Initial Server Setup\"), mdx(\"p\", null, \"After completing Step 02, you should be able to remotely access the Raspberry Pi. Let's just call in an Ubuntu server for now. At this point the Ubuntu server is still fresh and requires some optimizations and software.\"), mdx(\"h3\", null, \"1. Update & upgrade Ubuntu system & other software.\"), mdx(\"p\", null, \"Update the operating system\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo apt update\\n\\nsudo apt upgrade\\n\")), mdx(\"p\", null, \"Install \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"unzip\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo apt install unzip\\n\")), mdx(\"p\", null, \"Setup \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"go-lang\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo snap install go --classic\\n\")), mdx(\"p\", null, \"Install \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"make\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo apt install make\\n\")), mdx(\"p\", null, \"Install \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"htop\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo apt install htop\\n\")), mdx(\"p\", null, \"Install build-essentials\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo apt-get install build-essential\\n\")), mdx(\"h3\", null, \"2. Assign a static IP address.\"), mdx(\"p\", null, \"View IP address\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"ip addr show\\n\")), mdx(\"p\", null, \"You may see a dynamic IP address (the same IP used to SSH) has been assigned to interface card \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"eth0\"), \"\\\". To make this IP address static, edit the netplan configuration file \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/etc/netplan/50-cloud-init.yaml\"), \"\\u201D using \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"vim\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"nano\"), \", \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"vi\"), \", or whatever terminal text editor you prefer.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"network:\\n        ethernets:\\n            eth0:\\n                addresses: [192.168.1.144/24]\\n                gateway4: 192.168.1.1\\n                nameservers:\\n                    addresses: [4.2.2.2, 8.8.8.8]\\n        version: 2\\n\")), mdx(\"p\", null, \"Using \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"your\"), \" IP address and the example yaml file above. Edit \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"/etc/netplan/50-cloud-init.yaml\"), \" in \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"vim\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo vim /etc/netplan/50-cloud-init.yaml\\n\")), mdx(\"p\", null, \"Vim tip: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"i\"), \" to enter insert mode to begin editing the text. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Esc\"), \" to exit insert mode. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \":wq\"), \" to save the changes.\"), mdx(\"p\", null, \"Apply the new netplan\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo netplan apply\\n\")), mdx(\"p\", null, \"Check the changes were applied\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"ip addr show && ip route show\\n\")), mdx(\"p\", null, \"Reboot\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo reboot\\n\")), mdx(\"h2\", null, \"Step 04 - Mount HDD/ SSD.\"), mdx(\"p\", null, \"Storing the state of the blockchain requires more sufficient memory resources. Extending memory resources to the Raspberry Pi is quite simple since it has many USB ports to plug in an external HHD/ SSD, RAID, NAS, or whatever storage configuration you prefer.\"), mdx(\"h3\", null, \"1. Identify the disk & Mount the disk\"), mdx(\"p\", null, \"It will be \\\"/dev/sda\\\". In many cases it's \\\"/dev/sda\\\" or \\\"/dev/sda1\\\", \\\"/dev/sda2\\\", etc...\"), mdx(\"p\", null, \"List available disks\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo fdisk -l\\n\")), mdx(\"p\", null, \"Create a partition for the disk.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo mkfs.ext4 /dev/sda\\n\")), mdx(\"p\", null, \"Mount the disk\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo mkdir /mnt/ssd\\n\\nsudo chown -R ubuntu:ubuntu /mnt/ssd/ # \\\"ubuntu\\\" is the default hostname\\n\\nsudo mount /dev/sda /mnt/ssd # mount the disk \\\"dev/sda\\\" to \\\"/mnt/ssd\\\"\\n\")), mdx(\"h3\", null, \"2. Automatically mount disk on startup\"), mdx(\"p\", null, \"Get the unique ID of the disk (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"UUID=\\\"<the-unique-id>\\\"\"), \")\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo blkid\\n\")), mdx(\"p\", null, \"Edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/etc/fstab\"), \" file, inserting the below example at the end of the file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo vim /etc/fstab\\n\")), mdx(\"p\", null, \"Insert \\\"\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"UID=b2907e9d-1a37-4f26-8d43-b51ff3e1c66f /mnt/ssd ext4 defaults 0 0\"), \"\\\" at the end of the file with \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"your\"), \" disks UUID.\"), mdx(\"p\", null, \"Reboot\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo reboot\\n\")), mdx(\"p\", null, \"Check the disk was mounted\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"df -ha /dev/sda\\n\")), mdx(\"h2\", null, \"Step 05 - Add Swap Space\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"Swap is a space on a disk that is used when the amount of physical RAM memory is full. Geth can consume a lot of memory during sync and setting up a Swap helps mitigate out-of-memory errors.\\n\")), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Since the device is Ubuntu-LTS, simply follow this external tutorial on adding Swap space to your Ubuntu: \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04\"\n  }), \"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-20-04\"), \" \")), mdx(\"h2\", null, \"Step 05 - Install Core-geth\"), mdx(\"h3\", null, \"1. Build from source\"), mdx(\"p\", null, \"Clone the repo & change directory into the source\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"git clone https://github.com/etclabscore/core-geth.git && cd core-geth/\\n\")), mdx(\"p\", null, \"Make_ geth\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"make geth (this may take a minute)\\n\")), mdx(\"p\", null, \"Move the built \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"geth\"), \" binary to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/bin/\"), \" directory\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo mv ~/core-geth/build/bin/geth /bin/\\n\")), mdx(\"h3\", null, \"2. Check installation\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"geth version\\n\")), mdx(\"p\", null, \"View usage and commands\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"geth --help\\n\")), mdx(\"p\", null, \"Congrats Core-geth is installed!\"), mdx(\"h2\", null, \"Step 06 - Run Core-geth\"), mdx(\"p\", null, \"By default, geth will store data in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.ethereum/geth/\"), \" on the microSD card, but you want to store data on the external disk space NOT the SD card.\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--datadir <PATH>\"), \" tells geth to use a specific directory (your external disk).\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--cache <VALUE>\"), \" tells geth to use a set amount of RAM in Megabytes. Since the device has 4 GB of RAM, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--cache 256\"), \" should mitigate out-of-memory errors, but might not be required if Swap memory is setup.\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--syncmode fast\"), \" tells geth to synchronise in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"fast\"), \" mode. \"), mdx(\"h3\", null, \"1. Create a data directory on the external disk.\"), mdx(\"p\", null, \"It's best practice to name the directory based on the specific network to be run.\"), mdx(\"p\", null, \"Make the data directory\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo mkdir /mnt/ssd/ethereum/ # ethereum example\\n\\nsudo mkdir /mnt/ssd/classic/ # ethereum classic example\\n\")), mdx(\"h3\", null, \"2. Run \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"geth <commands> <datadirectory>\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"geth --syncmode fast --cache 256 --datadir /mnt/ssd/ethereum # ethereum\\n\\ngeth --classic --syncmode fast --cache 256 --datadir /mnt/ssd/classic # ethereum classic\\n\")), mdx(\"p\", null, \"By default, Geth runs in the foreground of the terminal/ command prompt. To run geth in the background simply use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"nohup\"), \" in the beginning and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"&\"), \" at the end of the command. Example:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"nohup geth --classic --syncmode fast --cache 256 --datadir /mnt/ssd/classic # ethereum classic &\\n\")), mdx(\"p\", null, \"Check geth process is running and current resource consumption using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"htop\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"htop\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Ctrl\"), \" + \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Z\"), \" to exit htop.\"), mdx(\"h1\", null, \"Some tips\"), mdx(\"p\", null, \"Checking the sync status through the geth console.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo geth attach ipc:/mnt/ssd/classic/geth.ipc\\n\\n# once entered in the geth console use \\\"eth.syncing\\\" to return current syncing status\\n\\n> eth.syncing\\n\\n# type \\\"exit\\\" to exit the geth console\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"How to setup an Ethereum node on Raspberry Pi Introduction Raspberry Pi is a small single board computer that can be used to run a local…","fields":{"slug":"/setup-on-raspberry-pi"},"frontmatter":{"title":"How to setup an Ethereum node on Raspberry Pi"}}},"pageContext":{"slug":"/setup-on-raspberry-pi"}}}